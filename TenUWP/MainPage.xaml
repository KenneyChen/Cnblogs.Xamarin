<Page
    x:Class="TenUWP.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d" Background="LightGray">

    <Page.Resources>
        <ControlTemplate x:Key="SplitViewTogglePaneButtonTemplate"
                         TargetType="ToggleButton">
            <Grid x:Name="RootGrid"
                  Background="{TemplateBinding Background}">
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal" />
                        <VisualState x:Name="PointerOver">
                            <VisualState.Setters>
                                <Setter Target="RootGrid.Background" Value="{ThemeResource SystemControlBackgroundBaseLowBrush}" />
                                <Setter Target="ContentPresenter.Foreground" Value="{ThemeResource SystemControlHighlightBaseMediumHighBrush}" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Pressed">
                            <VisualState.Setters>
                                <Setter Target="RootGrid.Background" Value="{ThemeResource SystemControlBackgroundBaseMediumLowBrush}" />
                                <Setter Target="ContentPresenter.Foreground" Value="{ThemeResource SystemControlHighlightBaseMediumBrush}" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Disabled">
                            <VisualState.Setters>
                                <Setter Target="ContentPresenter.Foreground" Value="{ThemeResource SystemControlForegroundBaseLowBrush}" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Checked"  />
                        <VisualState x:Name="CheckedPointerOver">
                            <VisualState.Setters>
                                <Setter Target="RootGrid.Background" Value="{ThemeResource SystemControlBackgroundBaseLowBrush}" />
                                <Setter Target="ContentPresenter.Foreground" Value="{ThemeResource SystemControlHighlightBaseMediumHighBrush}" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="CheckedPressed">
                            <VisualState.Setters>
                                <Setter Target="RootGrid.Background" Value="{ThemeResource SystemControlBackgroundBaseMediumLowBrush}" />
                                <Setter Target="ContentPresenter.Foreground" Value="{ThemeResource SystemControlHighlightBaseMediumBrush}" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>


                <ContentPresenter x:Name="ContentPresenter"
                                  Padding="{TemplateBinding Padding}"
                                  BorderBrush="{TemplateBinding BorderBrush}"
                                  BorderThickness="{TemplateBinding BorderThickness}"
                                  HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                  VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                  AutomationProperties.AccessibilityView="Raw"
                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                  ContentTransitions="{TemplateBinding ContentTransitions}" />
            </Grid>
        </ControlTemplate>

        <Style x:Key="SplitViewTogglePaneButtonStyle"
               TargetType="ToggleButton">
            <Setter Property="Background"
                    Value="Transparent" />
            <Setter Property="Foreground"
                    Value="{ThemeResource SystemControlForegroundBaseHighBrush}" />
            <Setter Property="BorderBrush"
                    Value="{ThemeResource SystemControlForegroundBaseHighBrush}" />
            <Setter Property="BorderThickness"
                    Value="0" />
            <Setter Property="Padding"
                    Value="0" />
            <Setter Property="HorizontalAlignment"
                    Value="Left" />
            <Setter Property="HorizontalContentAlignment"
                    Value="Center" />
            <Setter Property="VerticalAlignment"
                    Value="Top" />
            <Setter Property="VerticalContentAlignment"
                    Value="Center" />
            <Setter Property="UseSystemFocusVisuals"
                    Value="True" />

            <Setter Property="FontFamily"
                    Value="{ThemeResource SymbolThemeFontFamily}" />
            <Setter Property="Content"
                    Value="&#xE700;" />
            <Setter Property="Height"
                    Value="48" />
            <Setter Property="Width"
                    Value="48" />

            <Setter Property="FontWeight"
                    Value="Normal" />
            <Setter Property="FontSize"
                    Value="20" />
            <Setter Property="Template"
                    Value="{StaticResource SplitViewTogglePaneButtonTemplate}" />
        </Style>
        <FontFamily x:Key="ContentControlThemeFontFamily">Segoe WP</FontFamily>
        <x:Double x:Key="ControlContentThemeFontSize">12</x:Double>
        <Thickness x:Key="ListViewItemMargin">0</Thickness>
        <SolidColorBrush x:Key="CheckBoxBackgroundThemeBrush" Color="Transparent"/>
        <x:Double x:Key="CheckBoxBorderThemeThickness">2.5</x:Double>
        <x:Double x:Key="ListViewItemContentOffsetX">-40.5</x:Double>
        <Thickness x:Key="ListViewItemMultiselectCheckBoxMargin">0,9.5,0,0</Thickness>
        <Thickness x:Key="GridViewItemMultiselectBorderThickness">2.5</Thickness>
        <x:Double x:Key="ListViewItemDisabledThemeOpacity">0.4</x:Double>
        <x:Double x:Key="ListViewItemContentTranslateX">40.5</x:Double>
        <x:Double x:Key="ListViewItemReorderHintThemeOffset">32</x:Double>
        <Style x:Key="ListViewItemStyle1" TargetType="ListViewItem">
            <Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}"/>
            <Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="TabNavigation" Value="Local"/>
            <Setter Property="IsHoldingEnabled" Value="False"/>
            <!--<Setter Property="Margin" Value="29,0,29,0"/>-->
            <!--<Setter Property="Width" Value="80" />-->
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="Foreground" Value="#333333" />
            <Setter Property="FontSize" Value="20" />

        </Style>
        <Style x:Key="ListViewItemStyle2" TargetType="ListViewItem">
            <Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}"/>
            <Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{ThemeResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="TabNavigation" Value="Local"/>
            <Setter Property="IsHoldingEnabled" Value="True"/>
            <Setter Property="Padding" Value="12,0,12,0"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="MinWidth" Value="{ThemeResource ListViewItemMinWidth}"/>
            <Setter Property="MinHeight" Value="{ThemeResource ListViewItemMinHeight}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListViewItem">
                        <ListViewItemPresenter CheckBrush="{ThemeResource SystemControlForegroundBaseMediumHighBrush}" ContentMargin="{TemplateBinding Padding}" CheckMode="Inline" ContentTransitions="{TemplateBinding ContentTransitions}" CheckBoxBrush="{ThemeResource SystemControlForegroundBaseMediumHighBrush}" DragForeground="{ThemeResource ListViewItemDragForegroundThemeBrush}" DragOpacity="{ThemeResource ListViewItemDragThemeOpacity}" DragBackground="{ThemeResource ListViewItemDragBackgroundThemeBrush}" DisabledOpacity="{ThemeResource ListViewItemDisabledThemeOpacity}" FocusBorderBrush="{ThemeResource SystemControlForegroundAltHighBrush}" FocusSecondaryBorderBrush="{ThemeResource SystemControlForegroundBaseHighBrush}" HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}" PointerOverForeground="{ThemeResource SystemControlHighlightAltBaseHighBrush}" PressedBackground="{ThemeResource SystemControlHighlightListMediumBrush}" PlaceholderBackground="{ThemeResource ListViewItemPlaceholderBackgroundThemeBrush}" PointerOverBackground="{ThemeResource SystemControlHighlightListLowBrush}" ReorderHintOffset="{ThemeResource ListViewItemReorderHintThemeOffset}" SelectedPressedBackground="{ThemeResource SystemControlHighlightListAccentHighBrush}" SelectionCheckMarkVisualEnabled="True" SelectedForeground="{ThemeResource SystemControlHighlightAltBaseHighBrush}" SelectedPointerOverBackground="{ThemeResource SystemControlHighlightListAccentMediumBrush}" SelectedBackground="{ThemeResource SystemControlHighlightListAccentLowBrush}" VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>

    <Grid>
        <SplitView IsPaneOpen="{x:Bind splitViewToggle.IsChecked,Mode=TwoWay,Converter={StaticResource NullableBooleanToBooleanKey}}"
                   PaneBackground="Green"
                   DisplayMode="Overlay" CompactPaneLength="50" OpenPaneLength="150">
            <SplitView.Pane>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="48" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <ListView Grid.Row="1">
                        <ListViewItem>
                            <StackPanel Orientation="Horizontal" >
                                <SymbolIcon Symbol="People" />
                                <TextBlock Text="People"
                                           Margin="24,0,0,0"
                                           VerticalAlignment="Center" />
                            </StackPanel>
                        </ListViewItem>
                        <ListViewItem>
                            <StackPanel Orientation="Horizontal" >
                                <SymbolIcon Symbol="Globe" />
                                <TextBlock Text="Globe"
                                           Margin="24,0,0,0"
                                           VerticalAlignment="Center" />
                            </StackPanel>
                        </ListViewItem>
                        <ListViewItem>
                            <StackPanel Orientation="Horizontal" >
                                <SymbolIcon Symbol="Message" />
                                <TextBlock Text="Message"
                                           Margin="24,0,0,0"
                                           VerticalAlignment="Center" />
                            </StackPanel>
                        </ListViewItem>
                        <ListViewItem>
                            <StackPanel Orientation="Horizontal" >
                                <SymbolIcon Symbol="Mail" />
                                <TextBlock Text="Mail"
                                           Margin="24,0,0,0"
                                           VerticalAlignment="Center" />
                            </StackPanel>
                        </ListViewItem>
                        <ListViewItem>
                            <StackPanel Orientation="Horizontal" >
                                <SymbolIcon Symbol="Video" />
                                <TextBlock Text="Video"
                                           Margin="24,0,0,0"
                                           VerticalAlignment="Center" />
                            </StackPanel>
                        </ListViewItem>
                    </ListView>

                </Grid>
            </SplitView.Pane>
            <SplitView.Content>
                <Grid Background="#FF303030">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="50" />
                    </Grid.RowDefinitions>
                    <Grid Grid.Row="0"  Background="White">
                        <FlipView Name="fvHome" Visibility="{Binding Index,Converter={StaticResource Int32ToVisibilityKey},ConverterParameter=1}" ItemsSource="{x:Bind HomeIds}" SelectionChanged="ListView_SelectionChanged">
                            <FlipView.ItemTemplate>
                                <DataTemplate>
                                    <ScrollViewer>
                                        <Grid Margin="12,0,12,0"  DataContext="{Binding HomeDetailContent}">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="40" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <Border BorderThickness="0,0,0,2" BorderBrush="{StaticResource M_Date_FontColor}"  Grid.Row="0">
                                                <TextBlock Text="{Binding Date}"  FontSize="16" Foreground="{StaticResource M_Date_FontColor}" Padding="0,6,0,6" Margin="0" VerticalAlignment="Center" />
                                            </Border>
                                            <Image Margin="0,10,0,0" Grid.Row="1"  Source="{Binding TitleImage}"  />
                                            <TextBlock Text="{Binding Title}" TextWrapping="Wrap" Grid.Row="2" TextAlignment="Left" FontSize="24" Foreground="{StaticResource M_FontColor}" Margin="0,5,0,5" FontWeight="Bold" />
                                            <TextBlock Foreground="{StaticResource M_Date_FontColor}" Grid.Row="3" Margin="0,0,0,5"
 FontSize="16">
    <Run Text="作者:" />
    <Run Text="{Binding Author}" />
    <Run Text="  |  " />
    <Run Text="阅读量：" />
    <Run Text="{Binding Times}" />
                                            </TextBlock>
                                            <!--<TextBlock Grid.Row="4"  IsTextSelectionEnabled="True" HorizontalAlignment="Stretch" Text="{Binding Summary}" TextWrapping="Wrap" FontSize="{StaticResource M_FontSize}"  Foreground="{StaticResource M_FontColor}" />-->
                                            <ItemsControl Grid.Row="4" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" Margin="0,0,-5,10" ItemsSource="{Binding Acticles}">
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <StackPanel>
                                                            <TextBlock  IsTextSelectionEnabled="True" HorizontalAlignment="Stretch" Text="{Binding Text}" TextWrapping="Wrap" FontSize="{StaticResource M_FontSize}"  Foreground="{StaticResource M_FontColor}" />
                                                            <Image Source="{Binding Image}" />
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </Grid>
                                    </ScrollViewer>
                                </DataTemplate>
                            </FlipView.ItemTemplate>
                        </FlipView>

                        <FlipView Name="fvContent" ItemsSource="{x:Bind ContentIds}"  Visibility="{Binding Index,Converter={StaticResource Int32ToVisibilityKey},ConverterParameter=2}" SelectionChanged="ListView_SelectionChanged">
                            <FlipView.ItemTemplate>
                                <DataTemplate>
                                    <ScrollViewer>
                                        <Grid Margin="12,0,12,0" DataContext="{Binding HomeDetailContent}">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="40" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <Border BorderThickness="0,0,0,2" BorderBrush="{StaticResource M_Date_FontColor}"  Grid.Row="0">
                                                <TextBlock Text="{Binding Date}"  FontSize="16" Foreground="{StaticResource M_Date_FontColor}" Padding="0,6,0,6" Margin="0" VerticalAlignment="Center" />
                                            </Border>
                                            <TextBlock Text="{Binding Title}" Grid.Row="1" TextAlignment="Left" FontSize="22" Foreground="{StaticResource M_FontColor}" Margin="0,15,0,10" FontWeight="Bold" />
                                            <TextBlock Foreground="{StaticResource M_Date_FontColor}" Grid.Row="2"
 FontSize="16" Text="{Binding Author}" TextWrapping="Wrap" />
                                            <Image Margin="0,10,0,0" Grid.Row="3"  Source="{Binding TitleImage}"  />
                                            <Border Grid.Row="4" Background="{StaticResource M_SummaryColor}" Margin="0,10,0,5" Padding="5">
                                                <TextBlock Text="{Binding Summary}" TextWrapping="Wrap" FontSize="{StaticResource M_FontSize}" Foreground="{StaticResource M_FontColor}" />
                                            </Border>
                                            <TextBlock  IsTextSelectionEnabled="True" HorizontalAlignment="Stretch" Grid.Row="5" Text="{Binding Text}" TextWrapping="Wrap" FontSize="16"  Foreground="{StaticResource M_FontColor}" />
                                        </Grid>
                                    </ScrollViewer>
                                </DataTemplate>
                            </FlipView.ItemTemplate>
                        </FlipView>

                        <FlipView Name="fvImage" ItemsSource="{x:Bind ImageIds}" Visibility="{Binding Index,Converter={StaticResource Int32ToVisibilityKey},ConverterParameter=3}" SelectionChanged="ListView_SelectionChanged">
                            <FlipView.ItemTemplate>
                                <DataTemplate>
                                    <ScrollViewer>
                                        <Grid Margin="12,0,12,0" DataContext="{Binding HomeDetailContent}">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="40" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <Border BorderThickness="0,0,0,2" BorderBrush="{StaticResource M_Date_FontColor}"  Grid.Row="0">
                                                <TextBlock Text="{Binding Date}"  FontSize="16" Foreground="{StaticResource M_Date_FontColor}" VerticalAlignment="Center" />
                                            </Border>
                                            <Image Margin="0,25,0,0" Grid.Row="1"  Source="{Binding TitleImage}"  />

                                            <TextBlock Text="{Binding Text1}" Grid.Row="2" TextAlignment="Left" FontSize="{StaticResource M_Title_FontSize}" Foreground="{StaticResource M_Date_FontColor}" Margin="0,15,0,10" TextWrapping="Wrap" FontWeight="Bold" />

                                            <TextBlock Foreground="{StaticResource M_Date_FontColor}" Grid.Row="3"
 FontSize="{StaticResource M_Title_FontSize}" Text="{Binding Text2}" TextWrapping="Wrap" TextAlignment="Right" Margin="0,0,0,25" />

                                            <Border Grid.Row="4" Margin="0,0,0,5" Padding="0,10,0,0" BorderThickness="0,1,0,0" BorderBrush="{StaticResource M_Date_FontColor}">
                                                <TextBlock Text="{Binding Author}" TextWrapping="Wrap" FontSize="{StaticResource M_FontSize}" Foreground="{StaticResource M_FontColor}" />
                                            </Border>
                                            <Border Grid.Row="5" Padding="0,5,0,0" Margin="0,0,0,20"  BorderBrush="{StaticResource M_Date_FontColor}">
                                                <TextBlock Text="{Binding Authorbrief}" TextWrapping="Wrap" FontSize="{StaticResource M_FontSize}" Foreground="{StaticResource M_Date_FontColor}" />
                                            </Border>
                                        </Grid>
                                    </ScrollViewer>
                                </DataTemplate>
                            </FlipView.ItemTemplate>
                        </FlipView>
                    </Grid>
                    <Grid Grid.Row="1"  Background="#FFCECECE" DataContext="{x:Bind BtnClickModel}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2.5*" />
                            <ColumnDefinition Width="2.5*" />
                            <ColumnDefinition Width="2.5*" />
                            <ColumnDefinition Width="2.5*" />
                        </Grid.ColumnDefinitions>
                        <Button Style="{StaticResource HomeIconButtonStyle}" Grid.Column="0" Click="btn_Click" Tag="1" />
                        <Button Style="{StaticResource ActicleButtonStyle}" Grid.Column="1" Click="btn_Click" Tag="2" />
                        <Button Style="{StaticResource PicButtonStyle}" Grid.Column="2" Click="btn_Click" Tag="3" />
                        <Button Style="{StaticResource CollectButtonStyle}" Grid.Column="3" Click="btn_Click" Tag="4" />
                    </Grid>
                    <ProgressRing Grid.RowSpan="2" Width="80" Height="80" IsActive="True" VerticalAlignment="Center" Name="pr" Visibility="Collapsed">

                    </ProgressRing>
                </Grid>

            </SplitView.Content>

        </SplitView>

        <ToggleButton Visibility="Collapsed" x:Name="splitViewToggle" Style="{StaticResource SplitViewTogglePaneButtonStyle}" />
    </Grid>
</Page>
